<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkpoint</title>
    <link rel="stylesheet" href="checkpoint.css"> <!-- Link to the checkpoint CSS -->
</head>
<body class="checkpoint-page"> <!-- Added the checkpoint-page class here -->
    <header class="header">
        <h1>Sylph X</h1> <!-- Changed to normal case -->
        <img src="https://i.imgur.com/lPUSD0y.png" alt="Sylph X Logo" class="logo"> <!-- Logo below the label -->
    </header>
    
    <main>
        <div class="checkpoint-panel">
            <h2>Checkpoint 1</h2>
            <p>This is the checkpoint page. No redirection will occur now.</p>
            <a href="https://example.com" class="btn">Proceed</a> <!-- Button with redirect -->
        </div>
    </main>

    <script>
        // Function to check if the page was opened from the specific Linkvertise URL
        function checkReferrer() {
            const expectedReferrer = "https://link-hub.net/114723/first-checkpoint"; // Linkvertise URL

            // Check if the page was opened from Linkvertise (referrer might be unreliable in new tabs)
            if (document.referrer.startsWith(expectedReferrer)) {
                // Set a flag in localStorage to remember that the page was opened from the correct URL
                localStorage.setItem('cameFromLinkvertise', 'true');
            }

            // If the flag is not set, redirect the user to the main page
            if (!localStorage.getItem('cameFromLinkvertise')) {
                window.location.replace('https://www.sylphx.site'); // Redirect to the main page
            }
        }

        // Call the function when the page loads
        window.onload = function() {
            // Check if the page is coming from Linkvertise URL
            if (!localStorage.getItem('cameFromLinkvertise')) {
                // If not, redirect to the main page
                window.location.replace('https://www.sylphx.site');
            }
        };
    </script>
</body>
</html>
